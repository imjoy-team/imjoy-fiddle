(function(_){function e(e){for(var t,n,s=e[0],i=e[1],c=e[2],u=0,l=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&l.push(a[n][0]),a[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(_[t]=i[t]);d&&d(e);while(l.length)l.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var _,e=0;e<o.length;e++){for(var r=o[e],t=!0,n=1;n<r.length;n++){var i=r[n];0!==a[i]&&(t=!1)}t&&(o.splice(e--,1),_=s(s.s=r[0]))}return _}var t={},a={app:0},o=[];function n(_){return s.p+"js/"+({about:"about"}[_]||_)+"."+{about:"1917e56e"}[_]+".js"}function s(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return _[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(_){var e=[],r=a[_];if(0!==r)if(r)e.push(r[2]);else{var t=new Promise((function(e,t){r=a[_]=[e,t]}));e.push(r[2]=t);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=n(_);var c=new Error;o=function(e){i.onerror=i.onload=null,clearTimeout(u);var r=a[_];if(0!==r){if(r){var t=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+_+" failed.\n("+t+": "+o+")",c.name="ChunkLoadError",c.type=t,c.request=o,r[1](c)}a[_]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:i})}),12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(e)},s.m=_,s.c=t,s.d=function(_,e,r){s.o(_,e)||Object.defineProperty(_,e,{enumerable:!0,get:r})},s.r=function(_){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},s.t=function(_,e){if(1&e&&(_=s(_)),8&e)return _;if(4&e&&"object"===typeof _&&_&&_.__esModule)return _;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:_}),2&e&&"string"!=typeof _)for(var t in _)s.d(r,t,function(e){return _[e]}.bind(null,t));return r},s.n=function(_){var e=_&&_.__esModule?function(){return _["default"]}:function(){return _};return s.d(e,"a",e),e},s.o=function(_,e){return Object.prototype.hasOwnProperty.call(_,e)},s.p="/",s.oe=function(_){throw console.error(_),_};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=c;o.push([0,"chunk-vendors"]),r()})({0:function(_,e,r){_.exports=r("56d7")},"56d7":function(_,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var t=r("2b0e"),a=function(){var _=this,e=_.$createElement,r=_._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],n=r("2877"),s={},i=Object(n["a"])(s,a,o,!1,null,null,null),c=i.exports,u=r("9483");Object(u["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(_){console.error("Error during service worker registration:",_)}});r("d3b7");var d=r("8c4f"),l=function(){var _=this,e=_.$createElement,r=_._self._c||e;return r("div",[r("b-navbar",[r("template",{slot:"brand"},[r("b-navbar-item",{attrs:{tag:"router-link",to:{path:"/"}}},[r("img",{attrs:{src:"https://imjoy.io/static/img/imjoy-logo-black.png",alt:"ImJoy"}})])],1),r("template",{slot:"start"},[r("b-navbar-dropdown",{attrs:{label:"New"}},_._l(_.templates,(function(e){return r("b-navbar-item",{key:e.name,attrs:{href:"#"},on:{click:function(r){return _.loadTemplate(e.url)}}},[_._v(" "+_._s(e.name)+" ")])})),1),r("b-navbar-item",{attrs:{href:"#"},on:{click:_.run}},[r("b-icon",{attrs:{icon:"play"}}),_._v(" Run ")],1),r("b-navbar-item",{attrs:{href:"#"},on:{click:_.save}},[r("b-icon",{attrs:{icon:"content-save"}}),_._v(" Save ")],1),r("b-navbar-item",{attrs:{href:"#"},on:{click:function(e){return _.exportFile()}}},[r("b-icon",{attrs:{icon:"file-download-outline"}}),_._v(" Export ")],1)],1)],2),r("div",{staticClass:"editor"},[r("codemirror",{ref:"cmEditor",attrs:{options:_.cmOptions},model:{value:_.code,callback:function(e){_.code=e},expression:"code"}})],1)],1)},p=[],y=(r("96cf"),r("1da1")),m=r("9224"),E=r("611f"),f=r("8f94"),O=(r("a7be"),r("9603"),r("f9d4"),r("db91"),r("d69f"),r("959b"),r("693d"),r("31c5"),r("9948"),r("b933"),r("9c7b"),r("715d"),r("23de"),r("4ba6"),r("8c33"),r("7289"),r("2aed"),r("d72f"),r("0b6c"),r("9a48"),r("697e"),r("aedd"),r("164b"),r("4895"),r("cbc8"),r("9f09"),r("a2c1"),{name:"ImJoyEditor",components:{codemirror:f["codemirror"]},data:function(){return{version:m["a"],code:"",templates:[{name:"default",url:"https://raw.githubusercontent.com/imjoy-team/ImJoy/master/web/src/plugins/webWorkerTemplate.imjoy.html"},{name:"window",url:"https://raw.githubusercontent.com/imjoy-team/ImJoy/master/web/src/plugins/windowTemplate.imjoy.html"},{name:"web-worker",url:"https://raw.githubusercontent.com/imjoy-team/ImJoy/master/web/src/plugins/webWorkerTemplate.imjoy.html"},{name:"web-python",url:"https://raw.githubusercontent.com/imjoy-team/ImJoy/master/web/src/plugins/webPythonTemplate.imjoy.html"},{name:"native-python",url:"https://raw.githubusercontent.com/imjoy-team/ImJoy/master/web/src/plugins/nativePythonTemplate.imjoy.html"}],cmOptions:{tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,foldGutter:!0,styleSelectedText:!0,keyMap:"sublime",indentUnit:0,smartIndent:!0,matchBrackets:!0,showCursorWhenSelecting:!0,theme:"mbo",hintOptions:{completeSingle:!1},mode:{name:"htmlmixed",tags:{docs:[[null,null,"markdown"]],config:[["lang",/^json$/,"javascript"],["lang",/^yaml$/,"yaml"],[null,null,"javascript"]],script:[["lang",/^python$/,"python"],[null,null,"javascript"]]}},extraKeys:{Ctrl:"autocomplete",F11:function(_){_.setOption("fullScreen",!_.getOption("fullScreen"))},Esc:function(_){_.getOption("fullScreen")&&_.setOption("fullScreen",!1)}}}}},mounted:function(){window.self!==window.top&&Object(E["a"])({addLayer:this.addLayer,removeLayer:this.removeLayer,clearLayers:this.clearLayers,setUI:this.setUI}),window.addEventListener("resize",this.updateSize),this.updateSize()},beforeDestroy:function(){window.removeEventListener("resize",this.updateSize)},computed:{editor:function(){return this.$refs.cmEditor.codemirror}},methods:{updateSize:function(){var _=document.body.getBoundingClientRect();this.editor.setSize(_.width,_.height-52),setTimeout(this.editor.refresh(),1)},loadTemplate:function(_){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function r(){var t,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(_).then((function(_){return _.blob()}));case 2:return t=r.sent,r.next=5,new Response(t).text();case 5:a=r.sent,e.code=a;case 7:case"end":return r.stop()}}),r)})))()},run:function(){},save:function(){},exportFile:function(){}}}),P=O,b=(r("d703"),Object(n["a"])(P,l,p,!1,null,null,null)),M=b.exports;t["a"].use(d["a"]);var D=[{path:"/",redirect:{name:"App"}},{path:"/app",name:"App",component:M},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],w=new d["a"]({base:"/",routes:D}),j=w,A=r("289d"),I=(r("5363"),r("5abe"),r("4de4"),r("d81d"),r("b0c0"),r("2f62"));t["a"].use(I["a"]);var h=new I["a"].Store({state:{layers:{},layer_configs:[],activeSliders:null,currentLayer:null,map:null},actions:{addLayer:function(_,e){_.commit("addLayer",e),t["a"].nextTick((function(){e.init&&e.init().then((function(r){r||e._add_layer_promise&&e._add_layer_promise.reject("Failed to create layer for "+e.name),r.config=e,r.setVisible(e.visible),r.getLayerAPI=r.getLayerAPI||function(){},_.commit("initialized",r),_.commit("setCurrentLayer",r.config),_.commit("sortLayers"),e._add_layer_promise&&(e._add_layer_promise.resolve(r),delete e._add_layer_promise)})).catch((function(_){e._add_layer_promise?(e._add_layer_promise.reject(_),delete e._add_layer_promise):console.error(_)}))}))}},mutations:{sortLayers:function(_){for(var e=0;e<_.layer_configs.length;e++)_.layers[_.layer_configs[e].id]?_.layers[_.layer_configs[e].id].setZIndex(e):console.warn("Layer not ready",_.layer_configs[e])},initialized:function(_,e){_.layers[e.config.id]=e,e.setZIndex(_.layer_configs.length-1)},addLayer:function(_,e){void 0===e.visible&&(e.visible=!0),_.layer_configs.push(e)},removeLayer:function(_,e){e.selected=!1,_.layer_configs=_.layer_configs.filter((function(_){return _.id!==e.id}))},clearLayers:function(_){_.layer_configs=[]},toggleVisible:function(_,e){e.visible=!e.visible},setCurrentLayer:function(_,e){_.currentLayer!==e&&(_.currentLayer&&(_.currentLayer.selected=!1),_.currentLayer=e,e.sliders&&(_.activeSliders=e.sliders),e.selected=!0)},setMap:function(_,e){_.map=e}}});t["a"].use(A["a"]),t["a"].config.productionTip=!1,new t["a"]({router:j,render:function(_){return _(c)},store:h}).$mount("#app")},"611f":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return setupImJoyAPI}));var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4160"),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a630"),core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_buffer_constructor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("c19f"),core_js_modules_es_array_buffer_constructor__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_buffer_constructor__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4fad"),core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("3410"),core_js_modules_es_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_typed_array_uint8_array__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5cc6"),core_js_modules_es_typed_array_uint8_array__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_typed_array_uint8_array__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_typed_array_copy_within__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("9a8c"),core_js_modules_es_typed_array_copy_within__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_typed_array_copy_within__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_typed_array_every__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("a975"),core_js_modules_es_typed_array_every__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_typed_array_every__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_typed_array_fill__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("735e"),core_js_modules_es_typed_array_fill__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_typed_array_fill__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_typed_array_filter__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("c1ac"),core_js_modules_es_typed_array_filter__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_typed_array_filter__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_typed_array_find__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("d139"),core_js_modules_es_typed_array_find__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_typed_array_find__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_typed_array_find_index__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("3a7b"),core_js_modules_es_typed_array_find_index__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_typed_array_find_index__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_typed_array_for_each__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("d5d6"),core_js_modules_es_typed_array_for_each__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_typed_array_for_each__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_typed_array_includes__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("82f8"),core_js_modules_es_typed_array_includes__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_typed_array_includes__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_typed_array_index_of__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("e91f"),core_js_modules_es_typed_array_index_of__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_typed_array_index_of__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_typed_array_iterator__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("60bd"),core_js_modules_es_typed_array_iterator__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_typed_array_iterator__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_typed_array_join__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("5f96"),core_js_modules_es_typed_array_join__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_typed_array_join__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_typed_array_last_index_of__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("3280"),core_js_modules_es_typed_array_last_index_of__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_typed_array_last_index_of__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_typed_array_map__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("3fcc"),core_js_modules_es_typed_array_map__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_typed_array_map__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_typed_array_reduce__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("ca91"),core_js_modules_es_typed_array_reduce__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_typed_array_reduce_right__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("25a1"),core_js_modules_es_typed_array_reduce_right__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_right__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_typed_array_reverse__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("cd26"),core_js_modules_es_typed_array_reverse__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_typed_array_reverse__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_es_typed_array_set__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("3c5d"),core_js_modules_es_typed_array_set__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_typed_array_set__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_typed_array_slice__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("2954"),core_js_modules_es_typed_array_slice__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_typed_array_slice__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_es_typed_array_some__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("649e"),core_js_modules_es_typed_array_some__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_typed_array_some__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_es_typed_array_sort__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("219c"),core_js_modules_es_typed_array_sort__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_es_typed_array_sort__WEBPACK_IMPORTED_MODULE_29__),core_js_modules_es_typed_array_subarray__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("170b"),core_js_modules_es_typed_array_subarray__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_es_typed_array_subarray__WEBPACK_IMPORTED_MODULE_30__),core_js_modules_es_typed_array_to_locale_string__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("b39a"),core_js_modules_es_typed_array_to_locale_string__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string__WEBPACK_IMPORTED_MODULE_31__),core_js_modules_es_typed_array_to_string__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("72f7"),core_js_modules_es_typed_array_to_string__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_es_typed_array_to_string__WEBPACK_IMPORTED_MODULE_32__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_33__),_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("b85c"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_35__),_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("1da1"),mathjs__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("3db5"),itkVtkViewer=window.itkVtkViewer,dtypeToTypedArray={int8:"Int8Array",int16:"Int16Array",int32:"Int32Array",uint8:"Uint8Array",uint16:"Uint16Array",uint32:"Uint32Array",float32:"Float32Array",float64:"Float64Array",array:"Array"},ArrayBufferView=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;function toArray(data){if("number"===typeof data||"string"===typeof data||"boolean"===typeof data||null===data||void 0===data)return data;if(data instanceof ArrayBuffer)return Array.from(new Uint8Array(data));if(data instanceof ArrayBufferView)return Array.from(data);if(Array.isArray(data))return data.map(toArray);if(data.constructor===Object){if(data._rtype){if("ndarray"!==data._rtype)throw"Invalid input type: "+data._rtype;var arraytype=eval(dtypeToTypedArray[data._rdtype]);return Object(mathjs__WEBPACK_IMPORTED_MODULE_37__["a"])(Array.from(new arraytype(data._rvalue)),data._rshape)}var obj={};return Object.entries(data).forEach((function(_){obj[_[0]]=toArray(_[1])})),obj}throw new Error("Unsupported type conversion")}function setupImJoyAPI(_){return _setupImJoyAPI.apply(this,arguments)}function _setupImJoyAPI(){return _setupImJoyAPI=Object(_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_36__["a"])(regeneratorRuntime.mark((function _(e){var r,t,a,o,n,s,i;return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:return r=e.addLayer,t=e.removeLayer,a=e.clearLayers,o=e.setUI,_.next=3,window.imjoyLoader.loadImJoyRPC({api_version:"0.2.3"});case 3:return n=_.sent,_.next=6,n.setupRPC({name:"ImJoyFiddle",version:"0.1.0",description:"ImJoyFiddle -- a playground for ImJoy plugins",type:"rpc-window"});case 6:s=_.sent,s.registerCodec({name:"itkimage",decoder:itkVtkViewer.utils.convertToItkImage}),i={setup:function(){s.log("ImJoyFiddle loaded successfully.")},run:function(_){return Object(_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_36__["a"])(regeneratorRuntime.mark((function e(){var t,a,o,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!_.data||!_.data.layers){e.next=22;break}t=[],a=Object(_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_34__["a"])(_.data.layers),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=13;break}return n=o.value,e.next=9,r(n);case 9:s=e.sent,t.push(s.getLayerAPI());case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))()},add_layer:r,remove_layer:t,clear_layers:a,view_image:function(_,e){return Object(_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_36__["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||{},e.type=e.type||"itk-vtk",e.name=e.name||e.type,e.data=_,t.next=6,r(e);case 6:return a=t.sent,t.abrupt("return",a.getLayerAPI());case 8:case"end":return t.stop()}}),t)})))()},add_shapes:function(_,e){return Object(_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_36__["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||{},e.type="vector",e.data=toArray(_),t.next=5,r(e);case 5:return a=t.sent,t.abrupt("return",a.getLayerAPI());case 7:case"end":return t.stop()}}),t)})))()},add_points:function(_,e){return Object(_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_36__["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=e||{},e.type="vector",e.data=toArray(_),e.shape_type="MultiPoint",t.next=6,r(e);case 6:return a=t.sent,t.abrupt("return",a.getLayerAPI());case 8:case"end":return t.stop()}}),t)})))()},set_ui:function(_){return Object(_home_runner_work_imjoy_fiddle_imjoy_fiddle_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_36__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o(_);case 2:case"end":return e.stop()}}),e)})))()}},i.add_image=i.view_image,s.export(i);case 11:case"end":return _.stop()}}),_)}))),_setupImJoyAPI.apply(this,arguments)}},6271:function(_,e,r){},9224:function(_){_.exports=JSON.parse('{"a":"0.1.0"}')},d703:function(_,e,r){"use strict";var t=r("6271"),a=r.n(t);a.a}});
//# sourceMappingURL=app.9d3355e7.js.map